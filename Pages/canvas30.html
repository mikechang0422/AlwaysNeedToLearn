<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
          content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>Img Style</title>
    <link rel="stylesheet"
          href="../style/style.css">
    <style>
        .canvas_block {
            text-align: center;
        }

        .canvas {
            padding: 6px;
            margin: 0 auto;
            width: 100%;
            max-width: 500px;
            max-height: 500px;
            /* 香芋紫 */
            background-color: #ceceff;
            border: 5px solid #6a6aff;
        }
    </style>
</head>

<body>
    <div class="warpper max_width">
        <h1 class="uppercase text_center pb_5">
            Canvas
            <br />
            <a href="https://ithelp.ithome.com.tw/articles/10287858">原始出處</a>
        </h1>
        <h2 class="uppercase text_center pb_5">Day1</h2>
        <section class="canvas_block mb_4">
            <canvas id="day1"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day2</h2>
        <section class="canvas_block mb_4">
            <canvas id="day2"
                    class="canvas"
                    style="height: 250px;"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day3</h2>
        <section class="canvas_block mb_4">
            <canvas id="day3"
                    style="max-width: 400px; max-height: 450px; background-color: black;"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day4</h2>
        <section class="canvas_block mb_4">
            <canvas id="day4"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day5</h2>
        <h3 id="operation"
            class="mb_2"
            style=" text-align: center;font-family: 'Gill Sans', sans-serif; text-shadow:1px 1px 3px #333,1px 1px 6px #666; font-size: 3rem; color: antiquewhite;">
        </h3>
        <div class="text_center mb_2">
            <select id="operationSelect">
                <option value="1">source-over</option>
                <option value="2">source-in</option>
                <option value="3">source-out</option>
                <option value="4">source-atop</option>
                <option value="5">destination-over</option>
                <option value="6">destination-in</option>
                <option value="7">destination-out</option>
                <option value="8">destination-atop</option>
                <option value="9">lighter</option>
                <option value="10">copy</option>
                <option value="11">xor</option>
                <option value="12">multiply</option>
                <option value="13">screen</option>
                <option value="14">overlay</option>
                <option value="15">darken</option>
                <option value="16">lighten</option>
                <option value="17">color-dodge</option>
                <option value="18">color-burn</option>
                <option value="19">hard-light</option>
                <option value="20">soft-light</option>
                <option value="21">difference</option>
                <option value="22">exclusion</option>
                <option value="23">hue</option>
                <option value="24">saturation</option>
                <option value="25">color</option>
                <option value="26">luminosity</option>
            </select>
        </div>
        <section class="canvas_block mb_4">
            <canvas id="day5"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day6</h2>
        <section class="canvas_block mb_4">
            <canvas id="day6"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day7</h2>
        <section class="canvas_block mb_4">
            <canvas id="day7"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day8</h2>
        <section class="canvas_block mb_4">
            <canvas id="day8"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day9</h2>
        <section class="canvas_block mb_4"
                 style="text-align: left; position: relative;">
            <canvas id="day9-Background"
                    class="canvas"
                    width="480"
                    height="600"
                    style="position: relative; padding: 0; border: 0;"></canvas>
            <canvas id="day9-Wall"
                    class="canvas"
                    width="480"
                    height="150"
                    style="position: absolute; left: 8px; top: 340px; padding: 0; border: 0; width: auto; height: auto;"></canvas>
            <canvas id="day9-Suit-Man"
                    class="canvas"
                    width="300"
                    height="600"
                    style="position: absolute; left: 50px; padding: 0; border: 0; width: auto; height: auto;"></canvas>
            <canvas id="day9-Apple"
                    class="canvas"
                    width="100"
                    height="100"
                    style="position: absolute; left: 95px; top: 45px; padding: 0; border: 0; width: auto; height: auto;"></canvas>
            <canvas id="day9-Hat"
                    class="canvas"
                    width="200"
                    height="200"
                    style="position: absolute; left: 150px; top: 0; padding: 0; border: 0; width: auto; height: auto;"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day10</h2>
        <section class="canvas_block mb_4">
            <canvas id="day10"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day11</h2>
        <section class="canvas_block mb_4">
            <canvas id="day11"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day12</h2>
        <section class="canvas_block mb_4">
            <canvas id="day12"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day13 & 14</h2>
        <section class="canvas_block mb_4">
            <div id="toolbox">
                <h1>ToolBox</h1>
                <label for="stroke">Color</label>
                <input id="stroke"
                       name='stroke'
                       type="color"
                       value="#ffffff">
                <label for="lineWidth">Pen Width</label>
                <input id="lineWidth"
                       name='lineWidth'
                       type="number"
                       value="3">
                <button id="clear">Clear Board</button>
            </div>
            <canvas id="day14"
                    class="canvas"></canvas>
        </section>
        <hr />
        <h2 class="uppercase text_center pb_5">Day16</h2>
        <section class="mb_4">
            <h3 class="text_center pb_5">各個常用的canvas套件</h3>
            <h4 class="text_center pb_5">Chart.js</h4>
            <p class="text_center pb_5">
                <a href="https://www.chartjs.org/docs/latest/">https://www.chartjs.org/docs/latest/</a>
            </p>
            <canvas id="myChart"></canvas>
            <h4 class="text_center pb_5">Konva.js</h4>
            <p class="text_center pb_5">
                <a href="https://konvajs.org/docs/">https://konvajs.org/docs/</a>
            </p>
            <div id="konvaDemo"
                 class="text_center"
                 style="margin: 0 auto; width: 800px;"></div>
            <div id="konvaDemo2"
                 class="text_center"></div>
            <h4 class="text_center pb_5">d3.js (Data-Driven Documents)</h4>
            <p class="text_center pb_5">
                <a href="https://observablehq.com/@d3/gallery">https://observablehq.com/@d3/gallery</a>
            </p>
            <h4 class="text_center pb_5">Particles.js</h4>
            <p class="text_center pb_5">
                <a href="https://vincentgarreau.com/particles.js/">https://vincentgarreau.com/particles.js/</a>
            </p>
            <h4 class="text_center pb_5">Matter.js</h4>
            <p class="text_center pb_5">
                <a href="https://brm.io/matter-js/">https://brm.io/matter-js/</a>
            </p>
            <h4 class="text_center pb_5">Paper.js</h4>
            <p class="text_center pb_5">
                <a href="http://paperjs.org/">http://paperjs.org/</a>
            </p>
            <h4 class="text_center pb_5">Fabric.js</h4>
            <p class="text_center pb_5">
                <a href="http://fabricjs.com/">http://fabricjs.com/</a>
            </p>
            <h4 class="text_center pb_5">p5.js</h4>
            <p class="text_center pb_5">
                <a href="https://p5js.org/">https://p5js.org/</a>
            </p>

            <p class="text_center pb_5">後面的範例因為是React因此只寫到這，下台一舉攻</p>
        </section>
        <hr />

        <!-- 目前只做到這晚點繼續 -->
        <!-- https://ithelp.ithome.com.tw/articles/10292551 -->
        <div class="tool text_center">
            <a class="btn"
               href="./index.html">回上一頁</a>
        </div>
    </div>
    <script src="../Js/canvas30.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
    <!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.3.1/chart.min.js'></script> -->
    <script>
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: '# of Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });              
    </script>
    <script src="https://unpkg.com/konva@9/konva.min.js"></script>
    <script>
        var width = window.innerWidth / 2;
        var height = window.innerHeight / 2;

        Konva.angleDeg = false;
        function animate(animatedLayer, star, frame) {
            // 20% slow down per second
            var angularFriction = 0.2;
            var angularVelocityChange =
                (star.angularVelocity * frame.timeDiff * (1 - angularFriction)) /
                1000;
            star.angularVelocity -= angularVelocityChange;

            if (star.controlled) {
                star.angularVelocity =
                    ((star.rotation() - star.lastRotation) * 1000) / frame.timeDiff;
            } else {
                star.rotate((frame.timeDiff * star.angularVelocity) / 1000);
            }

            star.lastRotation = star.rotation();
        }

        var stage = new Konva.Stage({
            container: 'konvaDemo',
            width: width,
            height: height,
        });

        var animatedLayer = new Konva.Layer();

        var star = new Konva.Star({
            x: stage.width() / 2,
            y: stage.height() / 2,
            outerRadius: 80,
            innerRadius: 40,
            stroke: '#005500',
            fill: '#b5ff88',
            strokeWidth: 4,
            numPoints: 5,
            lineJoin: 'round',
            shadowOffsetX: 5,
            shadowOffsetY: 5,
            shadowBlur: 10,
            shadowColor: 'black',
            shadowOpacity: 0.5,
            opacity: 0.8,
        });

        // custom properties
        star.lastRotation = 0;
        star.angularVelocity = 6;
        star.controlled = false;

        star.on('mousedown touchstart', function (evt) {
            this.angularVelocity = 0;
            this.controlled = true;
        });

        animatedLayer.add(star);

        var center = new Konva.Circle({
            x: stage.width() / 2,
            y: stage.height() / 2,
            radius: 3,
            fill: '#555',
        });

        animatedLayer.add(center);

        // add listeners to container
        stage.on('mouseup touchend', function () {
            star.controlled = false;
        });

        stage.on('mousemove touchmove', function () {
            if (star.controlled) {
                var mousePos = stage.getPointerPosition();
                var x = star.x() - mousePos.x;
                var y = star.y() - mousePos.y;
                star.rotation(0.5 * Math.PI + Math.atan(y / x));

                if (mousePos.x <= stage.width() / 2) {
                    star.rotate(Math.PI);
                }
            }
        });

        stage.add(animatedLayer);

        var anim = new Konva.Animation(function (frame) {
            animate(animatedLayer, star, frame);
        }, animatedLayer);

        // wait one second and then spin the star
        setTimeout(function () {
            anim.start();
        });
    </script>
    <script>
        function konvaDemo2 (){
            // first we need to create a stage
            const stage = new Konva.Stage({
                container: 'konvaDemo2',   // id of container <div>
                width: 500,
                height: 500
            });
    
            // then create layer
            const layer = new Konva.Layer();
    
            // create our shape
            const circle = new Konva.Circle({
                x: stage.width() / 2,
                y: stage.height() / 2,
                radius: 70,
                fill: 'red',
                stroke: 'black',
                strokeWidth: 4
            });
    
            // add the shape to the layer
            layer.add(circle);
    
            // add the layer to the stage
            stage.add(layer);
    
            // draw the image
            layer.draw()
        }
        konvaDemo2()
    </script>
</body>

</html>